<div class="container feed-container">
  <h2>Meu Feed Solidário</h2>
  <p class="mb-lg">Acompanhe o impacto das organizações que você segue.</p>

  @for (post of feed(); track post.id) {
    <article class="feed-post card">
      <div class="post-header">
        <img [src]="post.organization?.logo" [alt]="post.organization?.name" class="org-avatar">
        <div>
          <h4 style="margin: 0">{{ post.organization?.name }}</h4>
          <span class="post-meta">{{ post.date | date:'dd MMM yyyy' }}</span>
        </div>
        <button class="btn btn-ghost" style="margin-left: auto" [routerLink]="['/organizations', post.organizationId]">Ver Perfil</button>
      </div>

      <p>{{ post.content }}</p>

      @if (post.image) {
        <img [src]="post.image" class="post-image" alt="Imagem do post">
      }

      <div class="post-actions" style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #eee; display: flex; gap: 1rem;">
        <button class="btn btn-ghost">❤️ {{ post.likes }} Curtidas</button>
      </div>
    </article>
  } @empty {
    <p>Nenhuma novidade por enquanto.</p>
  }
</div>
